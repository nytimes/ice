tinymce.PluginManager.add("directionality",function(e){function t(t){var n,o=e.dom,i=e.selection.getSelectedBlocks();i.length&&(n=o.getAttrib(i[0],"dir"),tinymce.each(i,function(e){o.getParent(e.parentNode,"*[dir='"+t+"']",o.getRoot())||(n!=t?o.setAttrib(e,"dir",t):o.setAttrib(e,"dir",null))}),e.nodeChanged())}function n(e){var t=[];return tinymce.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(n){t.push(n+"[dir="+e+"]")}),t.join(",")}e.addCommand("mceDirectionLTR",function(){t("ltr")}),e.addCommand("mceDirectionRTL",function(){t("rtl")}),e.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:n("ltr")}),e.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:n("rtl")})});