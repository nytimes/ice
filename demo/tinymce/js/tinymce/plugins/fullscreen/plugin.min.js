tinymce.PluginManager.add("fullscreen",function(e){function t(){var e,t,n=window,i=document,o=i.body;return o.offsetWidth&&(e=o.offsetWidth,t=o.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}function n(){function n(){l.setStyle(s,"height",t().h-(c.clientHeight-s.clientHeight))}var c,s,d,u=document.body,g=document.documentElement;r=!r,c=e.getContainer().firstChild,s=e.getContentAreaContainer().firstChild,d=s.style,r?(o=d.width,a=d.height,i=c.clientHeight-s.clientHeight,d.width=d.height="100%",l.addClass(u,"mce-fullscreen"),l.addClass(g,"mce-fullscreen"),l.addClass(c,"mce-fullscreen"),l.bind(window,"resize",n),n()):(d.width=o,d.height=a,l.removeClass(u,"mce-fullscreen"),l.removeClass(g,"mce-fullscreen"),l.removeClass(c,"mce-fullscreen"),l.unbind(window,"resize",n)),e.fire("FullscreenStateChanged",{state:r})}var i,o,a,r=!1,l=tinymce.DOM;if(!e.settings.inline)return e.on("init",function(){e.addShortcut("Ctrl+Alt+F","",n)}),e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Alt+F",selectable:!0,onClick:n,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"}),e.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:n,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}}),{isFullscreen:function(){return r}}});